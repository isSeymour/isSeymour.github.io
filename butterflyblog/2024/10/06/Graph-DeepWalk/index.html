<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>DeepWalk 图嵌入：维基百科词条 | isSeymour</title><meta name="author" content="isSeymour"><meta name="copyright" content="isSeymour"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="DeepWalk 图嵌入：维基百科词条 1. 环境参考 参考资料 https:&#x2F;&#x2F;github.com&#x2F;prateekjoshi565&#x2F;DeepWalk 安装工具包 1!pip install networkx gensim pandas numpy tqdm scikit-learn matplotlib 导入工具包 123456789101112131415# 图数据挖掘import netw">
<meta property="og:type" content="article">
<meta property="og:title" content="DeepWalk 图嵌入：维基百科词条">
<meta property="og:url" content="https://isseymour.github.io/butterflyblog/2024/10/06/Graph-DeepWalk/index.html">
<meta property="og:site_name" content="isSeymour">
<meta property="og:description" content="DeepWalk 图嵌入：维基百科词条 1. 环境参考 参考资料 https:&#x2F;&#x2F;github.com&#x2F;prateekjoshi565&#x2F;DeepWalk 安装工具包 1!pip install networkx gensim pandas numpy tqdm scikit-learn matplotlib 导入工具包 123456789101112131415# 图数据挖掘import netw">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/DW.png">
<meta property="article:published_time" content="2024-10-05T16:00:00.000Z">
<meta property="article:modified_time" content="2024-10-05T16:00:00.000Z">
<meta property="article:author" content="isSeymour">
<meta property="article:tag" content="DeepWalk">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/DW.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/page_img/IC1011.ico"><link rel="canonical" href="https://isseymour.github.io/butterflyblog/2024/10/06/Graph-DeepWalk/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/butterflyblog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/butterflyblog/',
  algolia: undefined,
  localSearch: {"path":"/butterflyblog/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'DeepWalk 图嵌入：维基百科词条',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-06 00:00:00'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/butterflyblog/code/style.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/page_img/T6.jpg" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/page_img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/butterflyblog/archives/"><div class="headline">文章</div><div class="length-num">88</div></a><a href="/butterflyblog/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/butterflyblog/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-solid fa-bookmark"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/archives/"><i class="fa-fw fa-solid fa-timeline"></i><span> 总览</span></a></li><li><a class="site-page child" href="/butterflyblog/tags/"><i class="fa-fw fa-sharp fa-solid fa-hashtag"></i><span> 标签</span></a></li><li><a class="site-page child" href="/butterflyblog/categories/"><i class="fa-fw fa-sharp fa-solid fa-folder"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-sharp fa-solid fa-list"></i><span> 功能</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/ctf/"><i class="fa-fw fa-solid fa-shield-halved"></i><span> CTF</span></a></li><li><a class="site-page child" href="/butterflyblog/music/"><i class="fa-fw fa-solid fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/butterflyblog/tools/"><i class="fa-fw fa-solid fa-screwdriver-wrench"></i><span> 下载</span></a></li><li><a class="site-page child" href="/butterflyblog/link/"><i class="fa-fw fa-solid fa-paper-plane"></i><span> 链接</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-solid fa-university"></i><span> 算法</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/algorithm/hot100/"><i class="fa-fw fa-solid fa-fire"></i><span> HOT100</span></a></li><li><a class="site-page child" href="/butterflyblog/algorithm/labuladong/"><i class="fa-fw fa-solid fa-coffee"></i><span> labuladong</span></a></li><li><a class="site-page child" href="/butterflyblog/algorithm/luogu/"><i class="fa-fw fa-solid fa-magnet"></i><span> 洛谷</span></a></li><li><a class="site-page child" href="/butterflyblog/algorithm/template/"><i class="fa-fw fa-solid fa-code"></i><span> Template</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-solid fa-plane"></i><span> 旅途</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/journey/Diary/"><i class="fa-fw fa-solid fa-book"></i><span> 日记本</span></a></li><li><a class="site-page child" href="/butterflyblog/journey/BAOYAN/"><i class="fa-fw fa-solid fa-hashtag"></i><span> BAOYAN</span></a></li><li><a class="site-page child" href="/butterflyblog/journey/english/"><i class="fa-fw fa-solid fa-globe"></i><span> 英语</span></a></li><li><a class="site-page child" href="/butterflyblog/journey/mathAI/"><i class="fa-fw fa-solid fa-bar-chart"></i><span> 数学&amp;AI</span></a></li><li><a class="site-page child" href="/butterflyblog/journey/RecSys/"><i class="fa-fw fa-solid fa-thumbs-up"></i><span> RecSys</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-regular fa-user"></i><span> 关于</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/about/"><i class="fa-fw fa-regular fa-user"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/butterflyblog/message/"><i class="fa-fw fa-solid fa-message"></i><span> 留言板</span></a></li><li><a class="site-page child" href="/butterflyblog/develop/"><i class="fa-fw fa-brands fa-windows"></i><span> 开发日志</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/DW.png')"><nav id="nav"><span id="blog-info"><a href="/butterflyblog/" title="isSeymour"><span class="site-name">isSeymour</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-solid fa-bookmark"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/archives/"><i class="fa-fw fa-solid fa-timeline"></i><span> 总览</span></a></li><li><a class="site-page child" href="/butterflyblog/tags/"><i class="fa-fw fa-sharp fa-solid fa-hashtag"></i><span> 标签</span></a></li><li><a class="site-page child" href="/butterflyblog/categories/"><i class="fa-fw fa-sharp fa-solid fa-folder"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-sharp fa-solid fa-list"></i><span> 功能</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/ctf/"><i class="fa-fw fa-solid fa-shield-halved"></i><span> CTF</span></a></li><li><a class="site-page child" href="/butterflyblog/music/"><i class="fa-fw fa-solid fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/butterflyblog/tools/"><i class="fa-fw fa-solid fa-screwdriver-wrench"></i><span> 下载</span></a></li><li><a class="site-page child" href="/butterflyblog/link/"><i class="fa-fw fa-solid fa-paper-plane"></i><span> 链接</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-solid fa-university"></i><span> 算法</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/algorithm/hot100/"><i class="fa-fw fa-solid fa-fire"></i><span> HOT100</span></a></li><li><a class="site-page child" href="/butterflyblog/algorithm/labuladong/"><i class="fa-fw fa-solid fa-coffee"></i><span> labuladong</span></a></li><li><a class="site-page child" href="/butterflyblog/algorithm/luogu/"><i class="fa-fw fa-solid fa-magnet"></i><span> 洛谷</span></a></li><li><a class="site-page child" href="/butterflyblog/algorithm/template/"><i class="fa-fw fa-solid fa-code"></i><span> Template</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-solid fa-plane"></i><span> 旅途</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/journey/Diary/"><i class="fa-fw fa-solid fa-book"></i><span> 日记本</span></a></li><li><a class="site-page child" href="/butterflyblog/journey/BAOYAN/"><i class="fa-fw fa-solid fa-hashtag"></i><span> BAOYAN</span></a></li><li><a class="site-page child" href="/butterflyblog/journey/english/"><i class="fa-fw fa-solid fa-globe"></i><span> 英语</span></a></li><li><a class="site-page child" href="/butterflyblog/journey/mathAI/"><i class="fa-fw fa-solid fa-bar-chart"></i><span> 数学&amp;AI</span></a></li><li><a class="site-page child" href="/butterflyblog/journey/RecSys/"><i class="fa-fw fa-solid fa-thumbs-up"></i><span> RecSys</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-regular fa-user"></i><span> 关于</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/butterflyblog/about/"><i class="fa-fw fa-regular fa-user"></i><span> 关于我</span></a></li><li><a class="site-page child" href="/butterflyblog/message/"><i class="fa-fw fa-solid fa-message"></i><span> 留言板</span></a></li><li><a class="site-page child" href="/butterflyblog/develop/"><i class="fa-fw fa-brands fa-windows"></i><span> 开发日志</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">DeepWalk 图嵌入：维基百科词条</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-10-05T16:00:00.000Z" title="发表于 2024-10-06 00:00:00">2024-10-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-05T16:00:00.000Z" title="更新于 2024-10-06 00:00:00">2024-10-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/butterflyblog/categories/CS224W/">CS224W</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="DeepWalk 图嵌入：维基百科词条"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>DeepWalk 图嵌入：维基百科词条</h1>
<h2 id="1-环境参考">1. 环境参考</h2>
<h3 id="参考资料">参考资料</h3>
<p><a target="_blank" rel="noopener" href="https://github.com/prateekjoshi565/DeepWalk">https://github.com/prateekjoshi565/DeepWalk</a></p>
<h3 id="安装工具包">安装工具包</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!pip install networkx gensim pandas numpy tqdm scikit-learn matplotlib</span><br></pre></td></tr></table></figure>
<h3 id="导入工具包">导入工具包</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 图数据挖掘</span></span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据分析</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 随机数与进度条</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据可视化</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-数据">2. 数据</h2>
<h3 id="获取数据">获取数据</h3>
<p>爬虫网站：<a target="_blank" rel="noopener" href="https://densitydesign.github.io/strumentalia-seealsology/">https://densitydesign.github.io/strumentalia-seealsology/</a></p>
<ol>
<li>
<p>设置 distance</p>
</li>
<li>
<p>输入链接：</p>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Computer_vision">https://en.wikipedia.org/wiki/Computer_vision</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Deep_learning">https://en.wikipedia.org/wiki/Deep_learning</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Convoutional_neural_network">https://en.wikipedia.org/wiki/Convoutional_neural_network</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Decision_tree">https://en.wikipedia.org/wiki/Decision_tree</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Support_vector_machine">https://en.wikipedia.org/wiki/Support_vector_machine</a></p>
<ol start="3">
<li>
<p>点击 <code>START CRAWLING</code>, 爬取完成点击 <code>STOP</code></p>
</li>
<li>
<p>Download 下载为 TSV 文件（以<code>\t</code>分割的 CSV 文件）。</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(<span class="string">&quot;seealsology-data.tsv&quot;</span>, sep=<span class="string">&#x27;\t&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>source</th>
      <th>target</th>
      <th>depth</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>support vector machine</td>
      <td>in situ adaptive tabulation</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>support vector machine</td>
      <td>kernel machines</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>support vector machine</td>
      <td>fisher kernel</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>support vector machine</td>
      <td>platt scaling</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>support vector machine</td>
      <td>polynomial kernel</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.shape</span><br></pre></td></tr></table></figure>
<pre><code>(4232, 3)
</code></pre>
<h3 id="构建无向图">构建无向图</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">G = nx.from_pandas_edgelist(df, <span class="string">&#x27;source&#x27;</span>, <span class="string">&#x27;target&#x27;</span>, edge_attr=<span class="literal">True</span>, create_using=nx.Graph())</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 节点个数</span></span><br><span class="line"><span class="built_in">len</span>(G)</span><br></pre></td></tr></table></figure>
<pre><code>3059
</code></pre>
<h3 id="可视化">可视化</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">15</span>, <span class="number">14</span>))</span><br><span class="line">nx.draw(G)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>​<br>
<img src="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/output_16_0.png" alt="png"><br>
​</p>
<h2 id="3-随机游走">3. 随机游走</h2>
<h3 id="randomwalk-函数">randomwalk 函数</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_randomwalk</span>(<span class="params">node, path_length</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    输入起始节点和路径长度，生成随机游走节点序列</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    random_walk = [node]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(path_length-<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># 汇总邻接节点</span></span><br><span class="line">        temp = <span class="built_in">list</span>(G.neighbors(node))</span><br><span class="line">        temp = <span class="built_in">list</span>(<span class="built_in">set</span>(temp) - <span class="built_in">set</span>(random_walk))</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(temp) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="comment"># 从邻接节点中随机选择下一个节点</span></span><br><span class="line">        random_node = random.choice(temp)</span><br><span class="line">        random_walk.append(random_node)</span><br><span class="line">        node = random_node</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> random_walk</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_nodes = <span class="built_in">list</span>(G.nodes())</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get_randomwalk(<span class="string">&#x27;computer vision&#x27;</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>['computer vision',
 'machine vision glossary',
 'glossary of artificial intelligence',
 'artificial intelligence',
 'organoid intelligence']
</code></pre>
<h3 id="生成随机游走序列">生成随机游走序列</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gamma = <span class="number">10</span>   <span class="comment"># 每个节点作为起始节点生成随机游走序列个数</span></span><br><span class="line">walk_length = <span class="number">5</span>   <span class="comment"># 随机游走序列最大长度</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">random_walks = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> nd <span class="keyword">in</span> tqdm(all_nodes):   <span class="comment"># 遍历每个节点</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(gamma):   <span class="comment"># 每个节点作为起始点生成 gamma 个随机游走序列</span></span><br><span class="line">        rdwk = get_randomwalk(nd, walk_length)</span><br><span class="line">        random_walks.append(rdwk)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>100%|████████████████████████████████████████████████████████████████████████████| 3059/3059 [00:00&lt;00:00, 30093.95it/s]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成随机游走序列的个数</span></span><br><span class="line"><span class="built_in">len</span>(random_walks)</span><br></pre></td></tr></table></figure>
<pre><code>30590
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">random_walks[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<pre><code>['support vector machine', 'relevance vector machine', 'kernel trick']
</code></pre>
<h2 id="4-模型">4. 模型</h2>
<h3 id="训练-Word2Vec-模型">训练 Word2Vec 模型</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自然语言处理</span></span><br><span class="line"><span class="keyword">from</span> gensim.models <span class="keyword">import</span> Word2Vec</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">model = Word2Vec(vector_size=<span class="number">256</span>, <span class="comment"># Embedding 维数</span></span><br><span class="line">                 window=<span class="number">4</span>,        <span class="comment"># 窗口宽度</span></span><br><span class="line">                 sg=<span class="number">1</span>,            <span class="comment"># Skip-Gram</span></span><br><span class="line">                 negative=<span class="number">10</span>,     <span class="comment"># 负采样</span></span><br><span class="line">                 alpha=<span class="number">0.03</span>,      <span class="comment"># 初始学习率</span></span><br><span class="line">                 min_alpha=<span class="number">0.0007</span>,<span class="comment"># 最小学习率</span></span><br><span class="line">                 seed=<span class="number">14</span>          <span class="comment"># 随机数种子</span></span><br><span class="line">                )</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用随机游走序列构建词汇表</span></span><br><span class="line">model.build_vocab(random_walks, progress_per=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 训练（耗时 1 分钟）</span></span><br><span class="line">model.train(random_walks, total_examples=model.corpus_count, epochs=<span class="number">50</span>, report_delay=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>(5623725, 5679950)
</code></pre>
<h3 id="分析-Word2Vec-结果">分析 Word2Vec 结果</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看某个节点的 Embedding</span></span><br><span class="line">model.wv.get_vector(<span class="string">&#x27;computer vision&#x27;</span>).shape</span><br></pre></td></tr></table></figure>
<pre><code>(256,)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.wv.get_vector(<span class="string">&#x27;computer vision&#x27;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([-0.95459837,  0.10292508, -0.28316122,  0.34142157, -0.00524048,
        0.09371996, -0.1954719 , -0.25347382,  0.51394266,  0.36131492,
        0.49506772,  0.1907984 , -0.6219965 , -0.5140934 , -0.01667919,
       -0.62039286, -0.05152594,  0.11786714,  0.18947525,  0.19846195,
       -0.11716247,  0.4700267 ,  0.07052463, -0.17666382,  0.1671837 ,
        0.24031273, -0.18862735, -0.15001939, -0.15928511, -0.13938765,
       -0.05735731, -0.17796549, -0.20125604, -0.13714062,  0.02854507,
       -0.3297002 ,  0.21914023, -0.03728085, -0.42431426,  0.28924662,
       -0.07030115,  0.153452  ,  0.02109604, -0.5424473 , -0.5128256 ,
        0.09319318, -0.18759303, -0.20778346,  0.01962802,  0.2059087 ,
        0.49449265, -0.43316683,  0.47074154,  0.32398415,  0.18804422,
        0.30941215, -0.16319014,  0.5086255 , -0.4054713 ,  0.18189834,
       -0.0757796 ,  0.01394054,  0.29209548, -0.20624508,  0.04370715,
       -0.22285934, -0.1998267 , -0.07965406, -0.56047654,  0.39915815,
       -0.14301345,  0.03823084, -0.51063114, -0.06177189, -0.12064032,
        0.41043568,  0.61430806,  0.00198809, -0.44348234, -0.4718856 ,
        0.17651486,  0.03726299, -0.16133447, -0.07498072,  0.27820274,
        0.4717679 , -0.09105907,  0.23809573,  0.05806234,  0.1386895 ,
       -0.00990544, -0.07417107, -0.13418426,  0.23991434,  0.229925  ,
        0.8267156 ,  0.1580667 ,  0.36089334,  0.09349226,  0.33000064,
        0.191074  ,  0.07245437, -0.19699697,  0.1373127 ,  0.00637828,
       -0.393098  ,  0.08118346, -0.33764714,  0.18177702,  0.6325778 ,
       -0.2885028 , -0.6606645 ,  0.25406113, -0.07453088,  0.0134876 ,
        0.22993505,  0.2469321 , -0.31469256,  0.15289971, -0.2890252 ,
       -0.24749073, -0.60842824, -1.0122712 ,  0.12880209, -0.14758833,
        0.05826454, -0.28706843,  0.14353754, -0.22783504, -0.18525298,
       -0.48144853,  0.03936397, -0.7163454 ,  0.2678299 , -0.03936832,
        0.23881389,  0.47060257, -0.66273224, -0.10196779,  0.5657661 ,
       -0.21970046, -0.11473361,  0.01603065, -0.17330663, -0.07658403,
       -0.00363667,  0.30719343,  0.05218068, -0.0915609 ,  0.18364   ,
       -0.05932966, -0.12060771,  0.29323366, -0.68775976,  0.4539725 ,
        0.3334422 , -0.45317262,  0.3847841 , -0.15240075,  0.11145896,
       -0.5170747 ,  0.28762746,  0.33697945,  0.0671319 ,  0.41540784,
        0.530296  ,  0.7281354 ,  0.3821813 ,  0.05093963,  0.7988582 ,
       -0.38773486, -0.21942078, -0.03484021,  0.3349887 , -0.19996904,
        0.37933737, -0.26954234,  0.4171879 ,  0.77916664, -0.1828221 ,
       -0.19539501, -0.4173407 ,  0.72097695, -0.03344366,  0.07354128,
        0.17265108, -0.4285512 , -0.41779858,  0.31622657,  0.23919132,
       -0.14859721, -0.112137  , -0.62065303,  0.02263851,  0.03000049,
       -0.31004304,  0.16809928,  0.27590737,  0.30516142, -0.2884869 ,
       -0.52874154, -0.0075765 , -0.22995523, -0.5217325 ,  0.61138886,
        0.26653954,  0.11882886,  0.8872766 ,  0.32643762, -0.16740482,
        0.03697263, -0.26058164, -0.5465761 , -0.19003482, -0.14713594,
        0.29176036, -0.15662532, -0.3437838 , -0.6559339 ,  0.29693472,
        0.01657276,  0.10343892, -0.01626491, -0.03184415, -0.15561788,
       -0.39298484, -0.10999571, -0.29130518,  0.49602684,  0.1284142 ,
        0.1823952 , -0.299319  , -0.35532302, -0.31292355,  0.5582348 ,
        0.19172785, -0.29422763,  0.32814986, -0.17529616, -0.3650768 ,
       -0.3434801 , -0.13502142,  0.19740753, -0.15909001, -0.26023048,
        0.22111997,  0.45001796,  0.14510933,  0.40188378,  0.23440124,
        0.02278174, -0.28787047, -0.13803658,  0.12221967, -0.00340613,
        0.03851813], dtype=float32)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找相似词语</span></span><br><span class="line">model.wv.similar_by_word(<span class="string">&#x27;computer vision&#x27;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[('computational imaging', 0.7198930978775024),
 ('teknomo–fernandez algorithm', 0.6524918079376221),
 ('vectorization (image tracing)', 0.6257413625717163),
 ('h-maxima transform', 0.6218506097793579),
 ('egocentric vision', 0.6183371543884277),
 ('multispectral imaging', 0.6168951988220215),
 ('sound recognition', 0.6164405345916748),
 ('ridge detection', 0.6114603281021118),
 ('google goggles', 0.6109517216682434),
 ('medical intelligence and language engineering lab', 0.6081306338310242)]
</code></pre>
<h2 id="5-PCA-降维可视化">5. PCA 降维可视化</h2>
<h3 id="全部词条">全部词条</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可视化全部词条的二维 Embedding</span></span><br><span class="line">X = model.wv.vectors</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 Embedding 用 PCA 降维到 2 维</span></span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">embed_2d = pca.fit_transform(X)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">embed_2d.shape</span><br></pre></td></tr></table></figure>
<pre><code>(3059, 2)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">14</span>))</span><br><span class="line">plt.scatter(embed_2d[:, <span class="number">0</span>], embed_2d[:, <span class="number">1</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>​<br>
<img src="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/output_42_0.png" alt="png"><br>
​</p>
<h3 id="某个词条">某个词条</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可视化某个词条的二维 Embedding</span></span><br><span class="line">term = <span class="string">&#x27;computer vision&#x27;</span></span><br><span class="line">term_256d = model.wv[term].reshape(<span class="number">1</span>, -<span class="number">1</span>)</span><br><span class="line">term_256d.shape</span><br></pre></td></tr></table></figure>
<pre><code>(1, 256)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">term_2d = pca.transform(term_256d)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">term_2d</span><br></pre></td></tr></table></figure>
<pre><code>array([[-0.6757479,  0.6024744]], dtype=float32)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">14</span>))</span><br><span class="line">plt.scatter(embed_2d[:, <span class="number">0</span>], embed_2d[:, <span class="number">1</span>])</span><br><span class="line">plt.scatter(term_2d[:, <span class="number">0</span>], term_2d[:, <span class="number">1</span>], c=<span class="string">&#x27;r&#x27;</span>, s=<span class="number">200</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>​<br>
<img src="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/output_47_0.png" alt="png"><br>
​</p>
<h3 id="某些词条">某些词条</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可视化某些词条的二维 Embedding</span></span><br><span class="line"><span class="comment"># 计算 PageRank 重要度</span></span><br><span class="line">pagerank = nx.pagerank(G)</span><br><span class="line"><span class="comment"># 从高到低排序</span></span><br><span class="line">node_importance = <span class="built_in">sorted</span>(pagerank.items(), key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 取最高的 n 个节点</span></span><br><span class="line">n = <span class="number">30</span></span><br><span class="line">terms_chosen = []</span><br><span class="line"><span class="keyword">for</span> nd <span class="keyword">in</span> node_importance[:n]:</span><br><span class="line">    terms_chosen.append(nd[<span class="number">0</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 手动补充新节点</span></span><br><span class="line">terms_chosen.extend([<span class="string">&#x27;computer vision&#x27;</span>, <span class="string">&#x27;deep learning&#x27;</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">terms_chosen</span><br></pre></td></tr></table></figure>
<pre><code>['cloud computing',
 'electromagnetic wave equation',
 'spatial dependence',
 '3d modeling',
 'empathy',
 'psychoacoustics',
 'evolutionary psychology',
 'superlens',
 'wearable computer',
 'cognitive science',
 'decision theory',
 'system dynamics',
 'accessibility',
 'brain–computer interface',
 'simulated consciousness',
 'visual perception',
 'artificial neural network',
 'turing test',
 'cognitive psychology',
 'recognition of human individuals',
 'transhumanism',
 'speech repetition',
 'embodied cognition',
 'finite element method',
 'computational neuroscience',
 'fourier analysis',
 'interval finite element',
 'n170',
 'graphical user interface',
 'tensor',
 'computer vision',
 'deep learning']
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输入词条，输出词典中的索引号</span></span><br><span class="line">term2index = model.wv.key_to_index</span><br><span class="line"><span class="comment"># 反之</span></span><br><span class="line">index2term = model.wv.index_to_key</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">term_index = np.array(term2index.values())</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可视化全部词条和关键词的二维 Embedding</span></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">14</span>))</span><br><span class="line">plt.scatter(embed_2d[:, <span class="number">0</span>], embed_2d[:, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> terms_chosen:</span><br><span class="line">    idx = term2index[item]</span><br><span class="line">    plt.scatter(embed_2d[idx, <span class="number">0</span>], embed_2d[idx, <span class="number">1</span>], c=<span class="string">&#x27;r&#x27;</span>, s=<span class="number">50</span>)</span><br><span class="line">    plt.annotate(item, xy=(embed_2d[idx, <span class="number">0</span>], embed_2d[idx, <span class="number">1</span>]), c=<span class="string">&#x27;k&#x27;</span>, fontsize=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>​<br>
<img src="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/output_55_0.png" alt="png"><br>
​</p>
<h2 id="6-TSNE-降维可视化">6. TSNE 降维可视化</h2>
<h3 id="全部词条-2">全部词条</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.manifold <span class="keyword">import</span> TSNE</span><br><span class="line"></span><br><span class="line">tsne = TSNE(n_components=<span class="number">2</span>, n_iter=<span class="number">1000</span>)</span><br><span class="line">embed_2d = tsne.fit_transform(X)</span><br></pre></td></tr></table></figure>
<pre><code>/opt/anaconda3/envs/graph/lib/python3.11/site-packages/sklearn/manifold/_t_sne.py:1162: FutureWarning: 'n_iter' was renamed to 'max_iter' in version 1.5 and will be removed in 1.7.
  warnings.warn(
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">14</span>))</span><br><span class="line">plt.scatter(embed_2d[:,<span class="number">0</span>], embed_2d[:,<span class="number">1</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>​<br>
<img src="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/output_59_0.png" alt="png"><br>
​</p>
<h3 id="某些词条-2">某些词条</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可视化全部词条和关键词的二维 Embedding</span></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">14</span>))</span><br><span class="line">plt.scatter(embed_2d[:, <span class="number">0</span>], embed_2d[:, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> terms_chosen:</span><br><span class="line">    idx = term2index[item]</span><br><span class="line">    plt.scatter(embed_2d[idx, <span class="number">0</span>], embed_2d[idx, <span class="number">1</span>], c=<span class="string">&#x27;r&#x27;</span>, s=<span class="number">50</span>)</span><br><span class="line">    plt.annotate(item, xy=(embed_2d[idx, <span class="number">0</span>], embed_2d[idx, <span class="number">1</span>]), c=<span class="string">&#x27;k&#x27;</span>, fontsize=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>​<br>
<img src="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/output_61_0.png" alt="png"><br>
​</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">embed_2d.shape</span><br></pre></td></tr></table></figure>
<pre><code>(3059, 2)
</code></pre>
<h3 id="导出">导出</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">terms_chosen_mask = np.zeros(X.shape[<span class="number">0</span>])</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> terms_chosen:</span><br><span class="line">    idx = term2index[item]</span><br><span class="line">    terms_chosen_mask[idx] = <span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame()</span><br><span class="line">df[<span class="string">&#x27;X&#x27;</span>] = embed_2d[:, <span class="number">0</span>]</span><br><span class="line">df[<span class="string">&#x27;Y&#x27;</span>] = embed_2d[:, <span class="number">1</span>]</span><br><span class="line">df[<span class="string">&#x27;item&#x27;</span>] = model.wv.index_to_key</span><br><span class="line">df[<span class="string">&#x27;pagerank&#x27;</span>] = pagerank.values()</span><br><span class="line">df[<span class="string">&#x27;chosen&#x27;</span>] = terms_chosen_mask</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
      <th>item</th>
      <th>pagerank</th>
      <th>chosen</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-13.242397</td>
      <td>-42.560059</td>
      <td>cloud computing</td>
      <td>0.001352</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>42.664997</td>
      <td>13.116780</td>
      <td>evolutionary psychology</td>
      <td>0.000699</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-12.628043</td>
      <td>42.939220</td>
      <td>visual perception</td>
      <td>0.000623</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>17.878042</td>
      <td>-14.927996</td>
      <td>cognitive science</td>
      <td>0.000292</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>39.976368</td>
      <td>3.763149</td>
      <td>cognitive psychology</td>
      <td>0.000255</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3054</th>
      <td>2.317700</td>
      <td>-71.532204</td>
      <td>browser isolation</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3055</th>
      <td>15.404965</td>
      <td>0.663236</td>
      <td>neural engineering</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3056</th>
      <td>40.051682</td>
      <td>-20.218977</td>
      <td>level of analysis</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3057</th>
      <td>38.300884</td>
      <td>9.790667</td>
      <td>social cognitive and affective neuroscience</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3058</th>
      <td>3.957638</td>
      <td>-22.789871</td>
      <td>problem solving</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>3059 rows × 5 columns</p>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">&#x27;tsne_vis_2d.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<h3 id="三维-TSNE">三维 TSNE</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.manifold <span class="keyword">import</span> TSNE</span><br><span class="line"></span><br><span class="line">tsne = TSNE(n_components=<span class="number">3</span>, n_iter=<span class="number">1000</span>)</span><br><span class="line">embed_3d = tsne.fit_transform(X)</span><br></pre></td></tr></table></figure>
<pre><code>/opt/anaconda3/envs/graph/lib/python3.11/site-packages/sklearn/manifold/_t_sne.py:1162: FutureWarning: 'n_iter' was renamed to 'max_iter' in version 1.5 and will be removed in 1.7.
  warnings.warn(
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame()</span><br><span class="line">df[<span class="string">&#x27;X&#x27;</span>] = embed_3d[:, <span class="number">0</span>]</span><br><span class="line">df[<span class="string">&#x27;Y&#x27;</span>] = embed_3d[:, <span class="number">1</span>]</span><br><span class="line">df[<span class="string">&#x27;Z&#x27;</span>] = embed_3d[:, <span class="number">1</span>]</span><br><span class="line">df[<span class="string">&#x27;item&#x27;</span>] = model.wv.index_to_key</span><br><span class="line">df[<span class="string">&#x27;pagerank&#x27;</span>] = pagerank.values()</span><br><span class="line">df[<span class="string">&#x27;chosen&#x27;</span>] = terms_chosen_mask</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>X</th>
      <th>Y</th>
      <th>Z</th>
      <th>item</th>
      <th>pagerank</th>
      <th>chosen</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-5.344084</td>
      <td>-13.896581</td>
      <td>-13.896581</td>
      <td>cloud computing</td>
      <td>0.001352</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>12.959835</td>
      <td>1.637353</td>
      <td>1.637353</td>
      <td>evolutionary psychology</td>
      <td>0.000699</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-9.399863</td>
      <td>5.780833</td>
      <td>5.780833</td>
      <td>visual perception</td>
      <td>0.000623</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.417569</td>
      <td>-12.603775</td>
      <td>-12.603775</td>
      <td>cognitive science</td>
      <td>0.000292</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.512045</td>
      <td>1.471242</td>
      <td>1.471242</td>
      <td>cognitive psychology</td>
      <td>0.000255</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3054</th>
      <td>-7.936583</td>
      <td>-12.397557</td>
      <td>-12.397557</td>
      <td>browser isolation</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3055</th>
      <td>9.576207</td>
      <td>-11.376499</td>
      <td>-11.376499</td>
      <td>neural engineering</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3056</th>
      <td>18.333593</td>
      <td>-2.940028</td>
      <td>-2.940028</td>
      <td>level of analysis</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3057</th>
      <td>7.171093</td>
      <td>3.361520</td>
      <td>3.361520</td>
      <td>social cognitive and affective neuroscience</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3058</th>
      <td>5.557903</td>
      <td>4.377861</td>
      <td>4.377861</td>
      <td>problem solving</td>
      <td>0.000150</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>3059 rows × 6 columns</p>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">&#x27;tsne_vis_3d.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<h2 id="7-课后作业">7. 课后作业*</h2>
<blockquote>
<p>用 <code>tsne_vis_2d.csv</code> 和 <code>tsne_vis_3d.csv</code> 做可视化</p>
<p>参考代码：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=scatter3d&amp;gl=1&amp;theme=dark">https://echarts.apache.org/examples/zh/editor.html?c=scatter3d&amp;gl=1&amp;theme=dark</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://isSeymour.github.io/butterflyblog">isSeymour</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://isseymour.github.io/butterflyblog/2024/10/06/Graph-DeepWalk/">https://isseymour.github.io/butterflyblog/2024/10/06/Graph-DeepWalk/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://isSeymour.github.io/butterflyblog" target="_blank">isSeymour</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/butterflyblog/tags/DeepWalk/">DeepWalk</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/DW.png" data-sites="wechat,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/pay/PAY1.jpg" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/pay/PAY1.jpg" alt="微信支付"/></a><div class="post-qr-code-desc">微信支付</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/pay/PAY2.jpg" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/pay/PAY2.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/butterflyblog/2024/09/23/ML2021-HW5/" title="ML2021 - HW 5"><img class="cover" src="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/ML2021/ML2021.png" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/page_img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">ML2021 - HW 5</div></div></a></div><div class="next-post pull-right"><a href="/butterflyblog/2024/10/09/Graph-Node2Vec-les/" title="Node2Vec 图嵌入：《悲惨世界》人物关系"><img class="cover" src="https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/Node2Vec/les/output_13_0.png" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/page_img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Node2Vec 图嵌入：《悲惨世界》人物关系</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/page_img/T6.jpg" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/Seymour0314/PicGo/blog/page_img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">isSeymour</div><div class="author-info__description">志之所趋，无远弗届，穷山距海，不能限也。</div></div><div class="card-info-data site-data is-center"><a href="/butterflyblog/archives/"><div class="headline">文章</div><div class="length-num">88</div></a><a href="/butterflyblog/tags/"><div class="headline">标签</div><div class="length-num">42</div></a><a href="/butterflyblog/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/isSeymour/"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://isSeymour.github.io/" target="_blank" title="学术主页"><i class="fa-regular fa-address-card" style="color: #000000;"></i></a><a class="social-icon" href="https://github.com/isSeymour/" target="_blank" title="Github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="https://space.bilibili.com/79699613/" target="_blank" title="B站"><i class="fa-brands fa-bilibili" style="color: #000000;"></i></a><a class="social-icon" href="https://blog.csdn.net/m0_63205991/" target="_blank" title="CSDN"><i class="fa-solid fa-code" style="color: #000000;"></i></a><a class="social-icon" href="mailto:seymour0314@163.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #000000;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">DeepWalk 图嵌入：维基百科词条</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%8E%AF%E5%A2%83%E5%8F%82%E8%80%83"><span class="toc-text">1. 环境参考</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-text">参考资料</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="toc-text">安装工具包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="toc-text">导入工具包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE"><span class="toc-text">2. 数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-text">获取数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E6%97%A0%E5%90%91%E5%9B%BE"><span class="toc-text">构建无向图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-text">可视化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E9%9A%8F%E6%9C%BA%E6%B8%B8%E8%B5%B0"><span class="toc-text">3. 随机游走</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#randomwalk-%E5%87%BD%E6%95%B0"><span class="toc-text">randomwalk 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%B8%B8%E8%B5%B0%E5%BA%8F%E5%88%97"><span class="toc-text">生成随机游走序列</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%A8%A1%E5%9E%8B"><span class="toc-text">4. 模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%AD%E7%BB%83-Word2Vec-%E6%A8%A1%E5%9E%8B"><span class="toc-text">训练 Word2Vec 模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90-Word2Vec-%E7%BB%93%E6%9E%9C"><span class="toc-text">分析 Word2Vec 结果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-PCA-%E9%99%8D%E7%BB%B4%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-text">5. PCA 降维可视化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%83%A8%E8%AF%8D%E6%9D%A1"><span class="toc-text">全部词条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%90%E4%B8%AA%E8%AF%8D%E6%9D%A1"><span class="toc-text">某个词条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%90%E4%BA%9B%E8%AF%8D%E6%9D%A1"><span class="toc-text">某些词条</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-TSNE-%E9%99%8D%E7%BB%B4%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-text">6. TSNE 降维可视化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%83%A8%E8%AF%8D%E6%9D%A1-2"><span class="toc-text">全部词条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%90%E4%BA%9B%E8%AF%8D%E6%9D%A1-2"><span class="toc-text">某些词条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%87%BA"><span class="toc-text">导出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%BB%B4-TSNE"><span class="toc-text">三维 TSNE</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A"><span class="toc-text">7. 课后作业*</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/isSeymour/PicGo/posts/CS224W/DeepWalk/DW.png')"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2025 By isSeymour</div><div class="footer_custom_text">欢迎乘坐我的生活地铁！</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/butterflyblog/js/utils.js"></script><script src="/butterflyblog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const initGitalk = () => {
    const gitalk = new Gitalk(Object.assign({
      clientID: 'Ov23liAZxomGv7Hapw8g',
      clientSecret: 'f7cafde192c4ada8bef4b76952c422d90575cf8b',
      repo: 'gitalk',
      owner: 'isSeymour',
      admin: ['isSeymour'],
      id: 'fe11a31ad037f3a9a55611505bcc82d7',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async() => {
    if (typeof Gitalk === 'function') initGitalk()
    else {
      await getCSS('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css')
      await getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js')
      initGitalk()
    }
  }
  
  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  if ('Gitalk' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/butterflyblog/js/search/local-search.js"></script></div></div></body></html>